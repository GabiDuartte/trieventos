
CREATE TABLE IF NOT EXISTS public.locacoes
(
    locacao_id SERIAL PRIMARY KEY,
    usuario_id INTEGER NOT NULL,
    estabelecimento_id INTEGER NOT NULL,
    hora_selecionada TIME NOT NULL,
    dia_selecionado DATE NOT NULL,
    CONSTRAINT fk_usuario
        FOREIGN KEY (usuario_id)
        REFERENCES public.usuarios (usuario_id)
        ON UPDATE CASCADE
        ON DELETE CASCADE,
    CONSTRAINT fk_estabelecimento
        FOREIGN KEY (estabelecimento_id)
        REFERENCES public.estabelecimentos (estabelecimento_id)
        ON UPDATE CASCADE
        ON DELETE CASCADE
);

ALTER TABLE IF EXISTS public.locacoes
    OWNER TO postgres;



-- Table: public.estabelecimentos

-- DROP TABLE IF EXISTS public.estabelecimentos;

CREATE TABLE IF NOT EXISTS public.estabelecimentos
(
    estabelecimento_id integer NOT NULL DEFAULT nextval('estabelecimentos_estabelecimento_id_seq'::regclass),
    estabelecimento_nome character varying(50) COLLATE pg_catalog."default" NOT NULL,
    estabelecimento_email character varying(50) COLLATE pg_catalog."default" NOT NULL,
    estabelecimento_senha text COLLATE pg_catalog."default" NOT NULL,
    estabelecimento_descricao_card character varying(60) COLLATE pg_catalog."default",
    estabelecimento_descricao character varying(60) COLLATE pg_catalog."default",
    tipo_usuario character varying(20) COLLATE pg_catalog."default",
    CONSTRAINT estabelecimentos_pkey PRIMARY KEY (estabelecimento_id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.estabelecimentos
    OWNER to postgres;

-- Table: public.usuarios

-- DROP TABLE IF EXISTS public.usuarios;

CREATE TABLE IF NOT EXISTS public.usuarios
(
    usuario_id integer NOT NULL DEFAULT nextval('usuarios_usuario_id_seq'::regclass),
    usuario_nome character varying(50) COLLATE pg_catalog."default" NOT NULL,
    usuario_email character varying(50) COLLATE pg_catalog."default" NOT NULL,
    usuario_senha text COLLATE pg_catalog."default" NOT NULL,
    tipo_usuario character varying(20) COLLATE pg_catalog."default",
    CONSTRAINT usuarios_pkey PRIMARY KEY (usuario_id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.usuarios
    OWNER to postgres;
